/*! betafang-fe 2014-08-19 */
!function(a){a.fn.scrollLoading=function(b){var c={attr:"data-url",container:a(window),callback:a.noop},d=a.extend({},c,b||{});d.cache=[],a(this).each(function(){var b=this.nodeName.toLowerCase(),c=a(this).attr(d.attr),e={obj:a(this),tag:b,url:c};d.cache.push(e)});var e=function(b){a.isFunction(d.callback)&&d.callback.call(b.get(0))},f=function(){var b=d.container.height();contop=a(window).get(0)===window?a(window).scrollTop():d.container.offset().top,a.each(d.cache,function(a,c){var d,f,g=c.obj,h=c.tag,i=c.url;g&&(d=g.offset().top-contop,d+g.height(),(d>=0&&b>d||f>0&&b>=f)&&(i?"img"===h?e(g.attr("src",i)):g.load(i,{},function(){e(g)}):e(g),c.obj=null))})};f(),d.container.bind("scroll",f)}}(jQuery),function(a){a.fn.fixtop=function(b){var c=a.extend({marginTop:0,zIndex:1e3,fixedWidth:"100%"},b),d=this.offset().top-c.marginTop,e=this,f=(e.height()+c.marginTop,a("<div/>"));return f.css({display:e.css("display"),width:e.outerWidth(!0),height:e.outerHeight(!0),"float":e.css("float")}),a(window).scroll(function(){var b=d;a(this).scrollTop()>b&&"fixed"!=e.css("position")&&(e.after(f),e.css({position:"fixed",top:c.marginTop+"px","z-index":c.zIndex,width:c.fixedWidth}),void 0!==c.fixed&&c.fixed(e)),a(this).scrollTop()<b&&"fixed"==e.css("position")&&(f.remove(),e.css({position:"relative",top:"0px","z-index":c.zIndex}),void 0!==c.unfixed&&c.unfixed(e))}),this}}(jQuery),$(function(){/msie (\d+\.\d+)/i.test(navigator.userAgent)&&$(document.body).addClass("ie","ie"+(document.documentMode||+RegExp.$1)),$(".lazyload").scrollLoading({callback:function(){$(this).addClass("loaded")}})}),$.encodeHTML=function(a){return String(a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")},$.stringFormat=function(a,b){a=String(a);var c=Array.prototype.slice.call(arguments,1),d=Object.prototype.toString;return c.length?(c=1==c.length&&null!==b&&/\[object Array\]|\[object Object\]/.test(d.call(b))?b:c,a.replace(/#\{(.+?)\}/g,function(a,b){var e=c[b];return"[object Function]"==d.call(e)&&(e=e(b)),"undefined"==typeof e?"":e})):a};var ajax=function(){var a={};return a.get=function(a,b,c,d){$.getJSON(a,b,function(a){0==a.status?c(a.data):d(a)},function(){var a={status:500,statusInfo:"服务请求失败"};d(a)})},a.post=function(a,b,c,d){$.ajax({type:"POST",url:a,data:b,success:function(a){0==a.status?c(a.data):d(a)},failure:function(){var a={status:500,statusInfo:"服务请求失败"};d(a)},dataType:"json"})},a}();