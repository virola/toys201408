define("myCenter",["require"],function(e){function f(e){if(e instanceof Array==0||e.length===0)return a.empty;var t=$.map(e,function(e,t){return e.recently&&(e.recentTpl=a.recent),e.addValue>0&&(e.addValueTpl=$.stringFormat(a.addValue,e.addValue)),$.stringFormat(a.item,e)});return t.join("")}function h(e,t){if(e instanceof Array==0||e.length===0)return t==2?c.empty:l.empty;var n=$.map(e,function(e,t){return $.stringFormat(l.item,e)});return n.join("")}function p(e,t){switch(e){case 0:return f(t);case 1:case 2:return h(t,e)}}function d(){i.hover(function(){$(this).addClass("ico-clock-hover")},function(){$(this).removeClass("ico-clock-hover")}),i.add("#ctrl-my-center-close").on("click",function(){i.toggleClass("ico-clock-active"),s.slideToggle({complete:function(){s.is(":visible")&&($("html,body").animate({scrollTop:i.offset().top}),u.hide())}})})}function v(e,t){e>0&&(t=m(t)),$(o.get(e)).html(p(e,t))}function m(e){return $.map(e,function(e,t){if(t>=r)return null;var n=e.content.item;return{url:n.url,title:n.title,imgSrc:n.imgSrc,desc:e.title,pubtime:e.date}})}var t={},n=6,r=3,i=$("#ctrl-my-center"),s=$("#my-center"),o=s.find(".col-box>ul"),u=i.find("i").hide(),a={item:'<li class="clear"><a class="left" href="#{url}">#{title}</a>#{recentTpl}<span class="count right">#{count}#{addValueTpl}个结果</span></li>',empty:'<li class="no-data"><span class="home-ico ico-cond"></span><p>还没有相关找房条件</p></li>',recent:'<span class="left label">[最近搜过]</span>',addValue:"<em>(+#{0})</em>"},l={empty:'<li class="no-data"><span class="home-ico ico-cond ico-cond-house"></span><p>您还没有关注的房源</p></li>',item:'<li class="clear"><a class="img-box" href="#{url}" title="#{title}"><img src="#{imgSrc}"></a><a class="txt-box" href="#{url}" title="#{title}"><span class="title">#{title}</span><span class="box clear"><em class="left">#{desc}</em><span class="date right">#{pubtime}</span></span></a></li>'},c={empty:'<li class="no-data"><span class="home-ico ico-cond ico-cond-history"></span><p>您还没有浏览过房源</p></li>'},g,y;return t.init=function(e){g=e.url,y=$.extend({limit:n},e.requestOptions);var t=[e.url.search,e.url.house,e.url.history];$.each(t,function(e,t){ajax.get(t,y,function(t){t=t.result||t.list||[],v(e,t),t&&t.length>0&&(i.show(),e==1&&u.text(t.length).show())},function(t){v(e,[])})}),d()},t}),define("newHouse",["require"],function(e){var t=$("#slide-news"),n,r,i={};return i.init=function(e){r=$.extend({},e),i.play(),t.on("mouseover",function(){i.stop()}).on("mouseout",function(){i.play()})},i.stop=function(){clearInterval(n)},i.play=function(){n=setInterval(function(){i.slideUp(r.height)},r.delay)},i.slideUp=function(e){var n=Math.abs(t.css("marginTop").replace("px",""))+e;n>=t.outerHeight()&&(n=0),$(t).animate({marginTop:-n+"px"})},i}),define("main",["require","./myCenter","./newHouse"],function(e){var t=e("./myCenter"),n=e("./newHouse");return{init:function(e){n.init({height:21,delay:3e3}),t.init({url:e.userDataUrl,requestOptions:e.requestOptions||{}})}}});